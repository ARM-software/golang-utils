repos:
- repo: local
  hooks:
  - id: golangci-lint
    name: golangci-lint
    description: Fast linters runner for Go.
    # Disabling Go module support is necessary to avoid it complaining about a missing go.mod file in the root
    entry: env GO111MODULE=off golangci-lint run --config=.golangci.pre-commit.yaml ./...
    language: system
    types: [go]
    pass_filenames: false

  - id: licensing
    name: file licensing
    # would need continuous-delivery-scripts to be installed
    entry: cd-license-files
    language: python
    types: [file]
    require_serial: true
    always_run: true
    verbose: true
    pass_filenames: false
